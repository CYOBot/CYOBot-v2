(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6930:function(e,t,n){Promise.resolve().then(n.bind(n,6218))},6218:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return to}});var l=n(9219),a=n(5762),r=n(2564),o=n(1962);let s=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:n,...a}=e;return(0,l.jsx)("div",{className:(0,o.cn)(s({variant:n}),t),...a})}var c=n(4096);let d=r.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,l.jsx)("div",{ref:t,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...a})});d.displayName="Card";let u=r.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,l.jsx)("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",n),...a})});u.displayName="CardHeader";let m=r.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,l.jsx)("h3",{ref:t,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",n),...a})});m.displayName="CardTitle";let p=r.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,l.jsx)("p",{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",n),...a})});p.displayName="CardDescription";let _=r.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,l.jsx)("div",{ref:t,className:(0,o.cn)("p-6 pt-0",n),...a})});_.displayName="CardContent";let f=r.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,l.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",n),...a})});f.displayName="CardFooter";var y=n(9466),g=n(7342),N=n(8980),x=n(6739);let T=y.fC;y.ZA;let b=y.B4,E=r.forwardRef((e,t)=>{let{className:n,children:a,...r}=e;return(0,l.jsxs)(y.xz,{ref:t,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...r,children:[a,(0,l.jsx)(y.JO,{asChild:!0,children:(0,l.jsx)(g.Z,{className:"h-4 w-4 opacity-50"})})]})});E.displayName=y.xz.displayName;let h=r.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,l.jsx)(y.u_,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",n),...a,children:(0,l.jsx)(N.Z,{className:"h-4 w-4"})})});h.displayName=y.u_.displayName;let k=r.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,l.jsx)(y.$G,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",n),...a,children:(0,l.jsx)(g.Z,{className:"h-4 w-4"})})});k.displayName=y.$G.displayName;let S=r.forwardRef((e,t)=>{let{className:n,children:a,position:r="popper",...s}=e;return(0,l.jsx)(y.h_,{children:(0,l.jsxs)(y.VY,{ref:t,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:r,...s,children:[(0,l.jsx)(h,{}),(0,l.jsx)(y.l_,{className:(0,o.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,l.jsx)(k,{})]})})});S.displayName=y.VY.displayName;let O=r.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,l.jsx)(y.__,{ref:t,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...a})});O.displayName=y.__.displayName;let v=r.forwardRef((e,t)=>{let{className:n,children:a,...r}=e;return(0,l.jsxs)(y.ck,{ref:t,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...r,children:[(0,l.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(y.wU,{children:(0,l.jsx)(x.Z,{className:"h-4 w-4"})})}),(0,l.jsx)(y.eT,{children:a})]})});v.displayName=y.ck.displayName;let C=r.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,l.jsx)(y.Z0,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",n),...a})});C.displayName=y.Z0.displayName;var I=n(3075),R=n(3250),j=n(8992),A=n(3988),L=n(2655),w=n(1891),D=n(3552),B=n(810),U=n(1382),P=n(5814),M=n(7233),Y=n(5244);let G=e=>{let{t}=(0,Y.N)(),{code:n}=(0,U.h)(),{config:a}=(0,j.Z)(),{toast:o}=(0,P.pm)(),[s,f]=(0,r.useState)("all"),[y,g]=(0,r.useState)("all"),[N,x]=(0,r.useState)([]),{loadXmlIntoWorkspace:h}=(0,D.n)();(0,r.useEffect)(()=>{x(B.u.activitiesLibrary.activities.filter(e=>("all"===s||e.tags.level.slug===s)&&("all"===y||e.tags.topic.slug===y)))},[s,y]);let k=(0,r.useCallback)(e=>{o({title:t("TOAST_LOAD_ACTIVITY_TITLE"),description:t("TOAST_LOAD_ACTIVITY_CODE_DESCRIPTION")})},[t,o]),O=(0,r.useCallback)(e=>{h(e),o({title:t("TOAST_LOAD_ACTIVITY_TITLE"),description:t("TOAST_LOAD_ACTIVITY_BLOCK_DESCRIPTION")})},[h,t,o]),{addOpenedFile:C}=(0,M.O)(),G=N.map(e=>{let n="ACTIVITY_TITLE_".concat(e.slug.toUpperCase()),l="ACTIVITY_DESCRIPTION_".concat(e.slug.toUpperCase());return{...e,title:t(n)||e.title,description:t(l)||e.description}});return(0,l.jsx)(I.yo,{open:e.open,children:(0,l.jsxs)(I.ue,{className:"sm:w-[576px] sm:max-w-xl overflow-y-auto",side:"left",onClickClose:()=>e.setOpen(!1),onClickOutside:()=>e.setOpen(!1),onPressEscape:()=>e.setOpen(!1),children:[(0,l.jsxs)(I.Tu,{children:[(0,l.jsx)(I.bC,{asChild:!0,children:(0,l.jsx)(R.z,{children:t("ACTIVITIES_LIBRARY")})}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)(T,{onValueChange:f,value:s,children:[(0,l.jsx)(E,{children:(0,l.jsx)(b,{placeholder:a.activitiesLibrary.levelDropdown.triggerPlaceholder})}),(0,l.jsxs)(S,{children:[(0,l.jsx)(v,{value:"all",children:t("ALL")}),a.activitiesLibrary.levelDropdown.options.map(e=>(0,l.jsx)(v,{value:e.value,children:e.displayName},e.value))]})]}),(0,l.jsxs)(T,{onValueChange:g,value:y,children:[(0,l.jsx)(E,{children:(0,l.jsx)(b,{placeholder:a.activitiesLibrary.topicDropdown.triggerPlaceholder})}),(0,l.jsxs)(S,{children:[(0,l.jsx)(v,{value:"all",children:t("ALL")}),a.activitiesLibrary.topicDropdown.options.map(e=>(0,l.jsx)(v,{value:e.value,children:e.displayName},e.value))]})]})]})]}),(0,l.jsx)("div",{className:"grid grid-cols-2 gap-4 mt-8",children:G.length>0?G.map((r,o)=>(0,l.jsxs)(d,{className:"relative",children:[(0,l.jsx)(u,{children:(0,l.jsx)(m,{children:r.title})}),(0,l.jsxs)(_,{children:[(0,l.jsx)(p,{children:r.description}),(0,l.jsxs)("div",{className:"flex flex-row flex-wrap mt-4 mb-8",children:[(0,l.jsx)(i,{style:{backgroundColor:r.tags.level.color},className:"m-1",children:r.tags.level.displayName},r.tags.level.slug),(0,l.jsx)(i,{style:{backgroundColor:r.tags.topic.color},className:"m-1",children:r.tags.topic.displayName},r.tags.topic.slug)]})]}),(0,l.jsxs)(c.z,{variant:"outline",className:"text-primary absolute right-2 bottom-2",onClick:()=>{if("code"==a.editor){let t={id:r.slug,name:r.title,content:r.code,isFolder:!1,items:[]};C(t),e.setOpen(!1),k(n)}else O(r.block)},children:[t("LOAD"),(0,l.jsx)(A.Z,{className:"h-4 w-4 mr-1.5 ml-1.5"})]})]},o)):(0,l.jsxs)("div",{className:"col-span-2 flex justify-center items-center flex-col space-y-8",children:[(0,l.jsx)(L.Z,{className:"w-32 h-32 m-4"}),(0,l.jsx)(w.B,{children:t("ACTIVITY_NOT_FOUND")}),(0,l.jsx)(c.z,{onClick:()=>{f("all"),g("all")},children:t("CLEAR_FILTER")})]})})]})})};var K=n(8549),F=n(9591),W=n.n(F);let V={base:W().Themes.Classic,categoryStyles:{structure_category:{colour:"#5d3a92"},condition_category:{colour:"#ffc800"},value_category:{colour:"#19d164"},motion_category:{colour:"#1f3c96"},sound_category:{colour:"#ea2761"},sensing_category:{colour:"#00c5c5"},display_category:{colour:"#f9641e"},timing_category:{colour:"#4cb9f5"},math_category:{colour:"#38761d"},dataList_category:{colour:"#a0a0a0"},external_category:{colour:"#783f04"},variables_category:{colour:"#a64d79"},other_category:{colour:"#f2f2f2"}},componentStyles:{toolboxBackgroundColour:"#f2f2f2",flyoutBackgroundColour:"#f8f8f8"},blockStyles:{structure_blocks:{colourPrimary:"#5d3a92"},condition_blocks:{colourPrimary:"#ffc800"},value_blocks:{colourPrimary:"#19d164"},motion_blocks:{colourPrimary:"#1f3c96"},sound_blocks:{colourPrimary:"#ea2761"},sensing_blocks:{colourPrimary:"#00c5c5"},display_blocks:{colourPrimary:"#f9641e"},timing_blocks:{colourPrimary:"#4cb9f5"},math_blocks:{colourPrimary:"#38761d"},dataList_blocks:{colourPrimary:"#a0a0a0"},external_blocks:{colourPrimary:"#783f04"},variables_blocks:{colourPrimary:"#a64d79"},logic_blocks:{colourPrimary:"#ffc800"},text_blocks:{colourPrimary:"#19d164"},loop_blocks:{colourPrimary:"#5d3a92"},list_blocks:{colourPrimary:"#a0a0a0"}}},Z=[{type:"matrix_init",message0:"%{BKY_STRUCTURE_MATRIX_INIT}",previousStatement:null,nextStatement:null,style:"structure_blocks"},{type:"ring_init",message0:"%{BKY_STRUCTURE_RING_INIT}",previousStatement:null,nextStatement:null,style:"structure_blocks"},{type:"time_init",message0:"%{BKY_STRUCTURE_TIME_INIT}",previousStatement:null,nextStatement:null,style:"structure_blocks"},{type:"speaker_init",message0:"%{BKY_STRUCTURE_SPEAKER_INIT}",previousStatement:null,nextStatement:null,style:"structure_blocks"},{type:"imu_init",message0:"%{BKY_STRUCTURE_IMU_INIT}",previousStatement:null,nextStatement:null,style:"structure_blocks"},{type:"button_init",message0:"%{BKY_STRUCTURE_BUTTON_INIT}",previousStatement:null,nextStatement:null,style:"structure_blocks"},{type:"microphone_init",message0:"%{BKY_STRUCTURE_MICROPHONE_INIT}",previousStatement:null,nextStatement:null,style:"structure_blocks"},{type:"crawler_init",message0:"%{BKY_STRUCTURE_CRAWLER_INIT}",previousStatement:null,nextStatement:null,style:"structure_blocks"},{type:"wheeler_init",message0:"%{BKY_STRUCTURE_WHEELER_INIT}",previousStatement:null,nextStatement:null,style:"structure_blocks"},{type:"console_init",message0:"%{BKY_STRUCTURE_CONSOLE_INIT}",previousStatement:null,nextStatement:null,style:"structure_blocks"}],z=[{type:"value_number",message0:"%{BKY_VALUE_NUMBER}",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",style:"value_blocks"}],X=[{type:"sound_play",message0:"%{BKY_SOUND_PLAY}",previousStatement:null,nextStatement:null,style:"sound_blocks"},{type:"sound_play_record",message0:"%{BKY_SOUND_PLAY_RECORD}",previousStatement:null,nextStatement:null,style:"sound_blocks"},{type:"sound_record",message0:"%{BKY_SOUND_RECORD}",previousStatement:null,nextStatement:null,style:"sound_blocks",args0:[{type:"input_value",name:"SECS",check:"Number"}]}],H=[{type:"matrix_reset",message0:"%{BKY_DISPLAY_MATRIX_RESET}",previousStatement:null,nextStatement:null,style:"display_blocks"},{type:"ring_reset",message0:"%{BKY_DISPLAY_RING_RESET}",previousStatement:null,nextStatement:null,style:"display_blocks"},{type:"matrix_character",message0:"%{BKY_DISPLAY_MATRIX_CHARACTER}",previousStatement:null,nextStatement:null,style:"display_blocks",args0:[{type:"field_dropdown",name:"CHAR",options:[["A","A"],["B","B"],["C","C"],["D","D"],["E","E"],["F","F"],["G","G"],["H","H"],["I","I"],["J","J"],["K","K"],["L","L"],["M","M"],["N","N"],["O","O"],["P","P"],["Q","Q"],["R","R"],["S","S"],["T","T"],["U","U"],["V","V"],["W","W"],["X","X"],["Y","Y"],["Z","Z"],["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"]]},{type:"field_colour",name:"COLOR",colour:"#40ff40"}]},{type:"matrix_scroll",message0:"%{BKY_DISPLAY_MATRIX_SCROLL}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_colour",name:"COLOR",colour:"#40ff40"},{type:"field_dropdown",name:"SPEED",options:[["%{BKY_SPEED_SLOWLY}","0.5"],["%{BKY_SPEED_NORMALLY}","0.3"],["%{BKY_SPEED_FAST}","0.1"],["%{BKY_SPEED_VERY_FAST}","0.05"]]}],previousStatement:null,nextStatement:null,style:"display_blocks"},{type:"matrix_manual",previousStatement:null,nextStatement:null,style:"display_blocks",message0:"%{BKY_DISPLAY_MATRIX_MANUAL}",args0:[{type:"input_value",name:"INDEX",check:"Number"},{type:"field_colour",name:"COLOR",colour:"#40ff40"}]},{type:"matrix_manual_2",previousStatement:null,nextStatement:null,style:"display_blocks",message0:"%{BKY_DISPLAY_MATRIX_MANUAL_2}",args0:[{type:"input_value",name:"INDEX",check:"Number"},{type:"input_value",name:"RED"},{type:"input_value",name:"GREEN"},{type:"input_value",name:"BLUE"}]},{type:"matrix_all",previousStatement:null,nextStatement:null,style:"display_blocks",message0:"%{BKY_DISPLAY_MATRIX_ALL}",args0:[{type:"field_colour",name:"COLOR",colour:"#40ff40"}]},{type:"matrix_all_2",previousStatement:null,nextStatement:null,style:"display_blocks",message0:"%{BKY_DISPLAY_MATRIX_ALL_2}",args0:[{type:"input_value",name:"RED"},{type:"input_value",name:"GREEN"},{type:"input_value",name:"BLUE"}]},{type:"ring_spin",message0:"%{BKY_DISPLAY_RING_SPIN}",args0:[{type:"field_colour",name:"COLOR",colour:"#40ff40"},{type:"field_dropdown",name:"SPEED",options:[["%{BKY_SPEED_SLOWLY}","0.5"],["%{BKY_SPEED_NORMALLY}","0.3"],["%{BKY_SPEED_FAST}","0.1"],["%{BKY_SPEED_VERY_FAST}","0.05"]]}],previousStatement:null,nextStatement:null,style:"display_blocks"},{type:"ring_manual",previousStatement:null,nextStatement:null,style:"display_blocks",message0:"%{BKY_DISPLAY_RING_MANUAL}",args0:[{type:"input_value",name:"INDEX",check:"Number"},{type:"field_colour",name:"COLOR",colour:"#40ff40"}]},{type:"ring_manual_2",previousStatement:null,nextStatement:null,style:"display_blocks",message0:"%{BKY_DISPLAY_RING_MANUAL_2}",args0:[{type:"input_value",name:"INDEX",check:"Number"},{type:"input_value",name:"RED"},{type:"input_value",name:"GREEN"},{type:"input_value",name:"BLUE"}]},{type:"ring_all",previousStatement:null,nextStatement:null,style:"display_blocks",message0:"%{BKY_DISPLAY_RING_ALL}",args0:[{type:"field_colour",name:"COLOR",colour:"#40ff40"}]},{type:"ring_all_2",previousStatement:null,nextStatement:null,style:"display_blocks",message0:"%{BKY_DISPLAY_RING_ALL_2}",args0:[{type:"input_value",name:"RED"},{type:"input_value",name:"GREEN"},{type:"input_value",name:"BLUE"}]}],$=[{type:"motion_command",message0:"%{BKY_MOTION_COMMAND}",previousStatement:null,nextStatement:null,style:"motion_blocks",args0:[{type:"field_dropdown",name:"COMMAND",options:[["%{BKY_FORWARD}","forward"],["%{BKY_BACKWARD}","backward"],["%{BKY_LEFT}","lateral_left"],["%{BKY_RIGHT}","lateral_right"]]},{type:"input_value",name:"STEPS"}]},{type:"motion_command_2",message0:"%{BKY_MOTION_COMMAND_2}",previousStatement:null,nextStatement:null,style:"motion_blocks",args0:[{type:"field_dropdown",name:"COMMAND",options:[["%{BKY_LEFT}","rotate_left"],["%{BKY_RIGHT}","rotate_right"]]},{type:"input_value",name:"STEPS"}]},{type:"motion_command_3",message0:"%{BKY_MOTION_COMMAND_3}",previousStatement:null,nextStatement:null,style:"motion_blocks",args0:[{type:"field_dropdown",name:"COMMAND1",options:[["%{BKY_FORWARD}","forward"],["%{BKY_BACKWARD}","backward"]]},{type:"field_dropdown",name:"COMMAND2",options:[["%{BKY_STRAIGHT}","straight"],["%{BKY_LEFT}","left"],["%{BKY_RIGHT}","right"],["%{BKY_LEFT_DIAGONAL}","diagleft"],["%{BKY_RIGHT_DIAGONAL}","diagright"]]},{type:"input_value",name:"SECONDS"}]},{type:"motion_throttle",message0:"%{BKY_MOTION_THROTTLE}",previousStatement:null,nextStatement:null,style:"motion_blocks",args0:[{type:"input_value",name:"THROTTLE"}]},{type:"motion_steering",message0:"%{BKY_MOTION_STEERING}",previousStatement:null,nextStatement:null,style:"motion_blocks",args0:[{type:"input_value",name:"FRONT_ANGLE"},{type:"input_value",name:"BACK_ANGLE"}]},{type:"motion_off",message0:"%{BKY_MOTION_OFF}",previousStatement:null,nextStatement:null,style:"motion_blocks"},{type:"motion_center",message0:"%{BKY_MOTION_CENTER}",previousStatement:null,nextStatement:null,style:"motion_blocks"},{type:"motion_single",message0:"%{BKY_MOTION_SINGLE}",previousStatement:null,nextStatement:null,style:"motion_blocks",args0:[{type:"field_dropdown",name:"LEG",options:[["0","0"],["1","1"],["2","2"],["3","3"]]},{type:"input_value",name:"UPPER"},{type:"input_value",name:"LOWER"}]},{type:"motion_all",message0:"%{BKY_MOTION_ALL}",previousStatement:null,nextStatement:null,style:"motion_blocks",args0:[{type:"input_value",name:"UPPER0"},{type:"input_value",name:"LOWER0"},{type:"input_value",name:"UPPER1"},{type:"input_value",name:"LOWER1"},{type:"input_value",name:"UPPER2"},{type:"input_value",name:"LOWER2"},{type:"input_value",name:"UPPER3"},{type:"input_value",name:"LOWER3"}]},{type:"motion_set_angle",message0:"%{BKY_MOTION_SET_ANGLE}",previousStatement:null,nextStatement:null,style:"motion_blocks",args0:[{type:"field_dropdown",name:"CHANNEL",options:[["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"],["10","10"],["11","11"]]},{type:"input_value",name:"ANGLE"}]}],J=[{type:"sensing_accel",message0:"%{BKY_SENSING_ACCEL}",output:null,style:"sensing_blocks",args0:[{type:"field_dropdown",name:"AXIS",options:[["X","0"],["Y","1"],["Z","2"]]}]},{type:"sensing_gyro",message0:"%{BKY_SENSING_GYRO}",output:null,style:"sensing_blocks",args0:[{type:"field_dropdown",name:"AXIS",options:[["X","0"],["Y","1"],["Z","2"]]}]},{type:"sensing_temp",message0:"%{BKY_SENSING_TEMP}",output:null,style:"sensing_blocks"},{type:"sensing_button",message0:"%{BKY_SENSING_BUTTON}",output:null,style:"sensing_blocks",args0:[{type:"field_dropdown",name:"BUTTON",options:[["%{BKY_LEFT}","left"],["%{BKY_RIGHT}","right"]]}]},{type:"sensing_console_trigger",message0:"%{BKY_SENSING_CONSOLE_TRIGGER}",output:null,style:"sensing_blocks",args0:[{type:"field_dropdown",name:"BUTTON",options:[["%{BKY_LEFT}","ltrig"],["%{BKY_RIGHT}","rtrig"]]}]},{type:"sensing_console_joystick_button",message0:"%{BKY_SENSING_CONSOLE_JOYSTICK_BUTTON}",output:null,style:"sensing_blocks",args0:[{type:"field_dropdown",name:"BUTTON",options:[["%{BKY_LEFT}","lbut"],["%{BKY_RIGHT}","rbut"]]}]},{type:"sensing_console_joystick",message0:"%{BKY_SENSING_CONSOLE_JOYSTICK}",output:null,style:"sensing_blocks",args0:[{type:"field_dropdown",name:"JOYSTICK",options:[["%{BKY_LEFT}","left"],["%{BKY_RIGHT}","right"]]},{type:"field_dropdown",name:"AXIS",options:[["X","x"],["Y","y"]]}]}],Q=[{type:"timing_sleep",message0:"%{BKY_TIMING_SLEEP}",previousStatement:null,nextStatement:null,args0:[{type:"input_value",name:"SECS"}],style:"timing_blocks"},{type:"timing_ticksms",message0:"%{BKY_TIMING_TICKSMS}",output:null,style:"timing_blocks"},{type:"timing_time",message0:"%{BKY_TIMING_TIME}",output:null,style:"timing_blocks"}];var q=n(8578);q.pythonGenerator.forBlock.matrix_init=function(e,t){return"from lib.display import Matrix\nmatrix = Matrix()\n"},q.pythonGenerator.forBlock.ring_init=function(e,t){return"from lib.display import LEDRing\nring = LEDRing()\n"},q.pythonGenerator.forBlock.time_init=function(e,t){return"import time\n"},q.pythonGenerator.forBlock.speaker_init=function(e,t){return"from audio import player\nmPlayer = player(None)\n"},q.pythonGenerator.forBlock.imu_init=function(e,t){return"from lib.imu import IMU\nimu = IMU(SDA=17, SCL=18)\n"},q.pythonGenerator.forBlock.button_init=function(e,t){return"import machine\nleft = machine.Pin(4, machine.Pin.IN)\nright = machine.Pin(38, machine.Pin.IN)\n"},q.pythonGenerator.forBlock.microphone_init=function(e,t){return"from audio import recorder\naRecorder = recorder()\n"},q.pythonGenerator.forBlock.crawler_init=function(e,t){return"from lib.kinematics import Crawler\nrobot = Crawler()\n"},q.pythonGenerator.forBlock.wheeler_init=function(e,t){return"from lib.kinematics import Wheeler\nrobot = Wheeler()\n"},q.pythonGenerator.forBlock.console_init=function(e,t){return"import machine\nlefty = machine.ADC(5)\nleftx = machine.ADC(2)\nrighty = machine.ADC(3)\nrightx = machine.ADC(1)\nrightx.atten(rightx.ATTN_11DB)\nrightx.atten(rightx.ATTN_11DB)\nleftx.atten(leftx.ATTN_11DB)\nlefty.atten(lefty.ATTN_11DB)\nrtrig = machine.Pin(39, machine.Pin.IN, machine.Pin.PULL_UP)\nltrig = machine.Pin(40, machine.Pin.IN, machine.Pin.PULL_UP)\nlbut = machine.Pin(41, machine.Pin.IN, machine.Pin.PULL_UP)\nrbut = machine.Pin(42, machine.Pin.IN, machine.Pin.PULL_UP)\n"},q.pythonGenerator.forBlock.value_number=function(e,t){let n=Number(e.getFieldValue("NUM"));return n===1/0?['float("inf")',q.Order.FUNCTION_CALL]:n===-1/0?['-float("inf")',q.Order.UNARY_SIGN]:[String(n),n<0?q.Order.UNARY_SIGN:q.Order.ATOMIC]},q.pythonGenerator.forBlock.sound_play=function(e,t){return"mPlayer.play('file://sdcard/lib/data/sample-music.mp3')\n"},q.pythonGenerator.forBlock.sound_play_record=function(e,t){return"mPlayer.play('file://sdcard/record.wav')\n"},q.pythonGenerator.forBlock.sound_record=function(e,t){let n=t.valueToCode(e,"SECS",q.Order.ATOMIC);return"import time\nfrom lib.display import LED\nled = LED()\naRecorder.start('/sdcard/record.wav', recorder.WAV, ".concat(n,")\ni = 0\nwhile aRecorder.is_running():\n    led.value((i+1)%2)\n    i += 1\n    time.sleep(1)\naRecorder.stop()\nled.off()\n")},q.pythonGenerator.forBlock.matrix_reset=function(e,t){return"matrix.reset()\n"},q.pythonGenerator.forBlock.ring_reset=function(e,t){return"ring.reset()\n"},q.pythonGenerator.forBlock.matrix_scroll=function(e,t){let n=t.valueToCode(e,"VALUE",q.Order.ATOMIC),l=e.getFieldValue("SPEED"),a=e.getFieldValue("COLOR");var r,o=(r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a))?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16)}:null;let s='matrix.scroll("{}".format('.concat(n,").upper(), speed=").concat(l,", red=").concat(o.r,", green=").concat(o.g,", blue=").concat(o.b,")\n");return s},q.pythonGenerator.forBlock.matrix_manual=function(e,t){let n=t.valueToCode(e,"INDEX",q.Order.ATOMIC),l=e.getFieldValue("COLOR");var a,r=(a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(l))?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:null;return"matrix.set_manual(".concat(n,", (").concat(r.r,", ").concat(r.g,", ").concat(r.b,"))\n")},q.pythonGenerator.forBlock.matrix_manual_2=function(e,t){let n=t.valueToCode(e,"INDEX",q.Order.ATOMIC),l=t.valueToCode(e,"RED",q.Order.ATOMIC),a=t.valueToCode(e,"GREEN",q.Order.ATOMIC),r=t.valueToCode(e,"BLUE",q.Order.ATOMIC);return"matrix.set_manual(".concat(n,", (int(").concat(l,"/255.0*100.0), int(").concat(a,"/255.0*100.0), int(").concat(r,"/255.0*100.0)))\n")},q.pythonGenerator.forBlock.matrix_all=function(e,t){let n=e.getFieldValue("COLOR");var l,a=(l=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n))?{r:parseInt(l[1],16),g:parseInt(l[2],16),b:parseInt(l[3],16)}:null;return"matrix.set_all((".concat(a.r,", ").concat(a.g,", ").concat(a.b,"))\n")},q.pythonGenerator.forBlock.matrix_all_2=function(e,t){let n=t.valueToCode(e,"RED",q.Order.ATOMIC),l=t.valueToCode(e,"GREEN",q.Order.ATOMIC),a=t.valueToCode(e,"BLUE",q.Order.ATOMIC);return"matrix.set_all((int(".concat(n,"/255.0*100.0), int(").concat(l,"/255.0*100.0), int(").concat(a,"/255.0*100.0)))\n")},q.pythonGenerator.forBlock.ring_manual=function(e,t){let n=t.valueToCode(e,"INDEX",q.Order.ATOMIC),l=e.getFieldValue("COLOR");var a,r=(a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(l))?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:null;return"ring.set_manual(".concat(n,", (").concat(r.r,", ").concat(r.g,", ").concat(r.b,"))\n")},q.pythonGenerator.forBlock.ring_manual_2=function(e,t){let n=t.valueToCode(e,"INDEX",q.Order.ATOMIC),l=t.valueToCode(e,"RED",q.Order.ATOMIC),a=t.valueToCode(e,"GREEN",q.Order.ATOMIC),r=t.valueToCode(e,"BLUE",q.Order.ATOMIC);return"ring.set_manual(".concat(n,", (int(").concat(l,"/255.0*100.0), int(").concat(a,"/255.0*100.0), int(").concat(r,"/255.0*100.0)))\n")},q.pythonGenerator.forBlock.ring_all=function(e,t){let n=e.getFieldValue("COLOR");var l,a=(l=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n))?{r:parseInt(l[1],16),g:parseInt(l[2],16),b:parseInt(l[3],16)}:null;return"ring.set_all((".concat(a.r,", ").concat(a.g,", ").concat(a.b,"))\n")},q.pythonGenerator.forBlock.ring_all_2=function(e,t){let n=t.valueToCode(e,"RED",q.Order.ATOMIC),l=t.valueToCode(e,"GREEN",q.Order.ATOMIC),a=t.valueToCode(e,"BLUE",q.Order.ATOMIC);return"ring.set_all((int(".concat(n,"/255.0*100.0), int(").concat(l,"/255.0*100.0), int(").concat(a,"/255.0*100.0)))\n")},q.pythonGenerator.forBlock.ring_spin=function(e,t){let n=e.getFieldValue("SPEED"),l=e.getFieldValue("COLOR");var a,r=(a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(l))?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:null;let o="ring.loading(speed=".concat(n,", red=").concat(r.r,", green=").concat(r.g,", blue=").concat(r.b,")\n");return o},q.pythonGenerator.forBlock.matrix_character=function(e,t){let n=e.getFieldValue("CHAR",q.Order.ATOMIC),l=e.getFieldValue("COLOR");var a,r=(a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(l))?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:null;let o='matrix.set_character("'.concat(n,'", red=').concat(r.r,", green=").concat(r.g,", blue=").concat(r.b,")\n");return o},q.pythonGenerator.forBlock.motion_command=function(e,t){let n=e.getFieldValue("COMMAND"),l=t.valueToCode(e,"STEPS",q.Order.ATOMIC);return"for i in range(".concat(l,'):\n    robot.command("').concat(n,'")\n')},q.pythonGenerator.forBlock.motion_command_2=function(e,t){let n=e.getFieldValue("COMMAND"),l=t.valueToCode(e,"STEPS",q.Order.ATOMIC);return"for i in range(".concat(l,'):\n    robot.command("').concat(n,'")\n')},q.pythonGenerator.forBlock.motion_command_3=function(e,t){let n=e.getFieldValue("COMMAND1"),l=e.getFieldValue("COMMAND2"),a=t.valueToCode(e,"SECONDS",q.Order.ATOMIC);return'robot.nudge("'.concat(n+"_"+l,'", t=').concat(a,")\n")},q.pythonGenerator.forBlock.motion_throttle=function(e,t){let n=t.valueToCode(e,"THROTTLE",q.Order.ATOMIC);return"robot.throttle(".concat(n,")\n")},q.pythonGenerator.forBlock.motion_steering=function(e,t){let n=t.valueToCode(e,"FRONT_ANGLE",q.Order.ATOMIC),l=t.valueToCode(e,"BACK_ANGLE",q.Order.ATOMIC);return"robot.steer(".concat(n,", ").concat(l,")\n")},q.pythonGenerator.forBlock.motion_off=function(e,t){return"robot.stop()\n"},q.pythonGenerator.forBlock.motion_center=function(e,t){return"robot.center()\n"},q.pythonGenerator.forBlock.motion_set_angle=function(e,t){let n=e.getFieldValue("CHANNEL"),l=t.valueToCode(e,"ANGLE",q.Order.NONE);return"robot.pca.set_angle(".concat(n,", ").concat(l,")\n")},q.pythonGenerator.forBlock.motion_single=function(e,t){let n=e.getFieldValue("LEG"),l=t.valueToCode(e,"UPPER",q.Order.NONE),a=t.valueToCode(e,"LOWER",q.Order.NONE);return"robot.centeredDynamicSingleServoAssignment(".concat(n,", ").concat(l,", ").concat(a,")\n")},q.pythonGenerator.forBlock.motion_all=function(e,t){let n=t.valueToCode(e,"UPPER0",q.Order.NONE),l=t.valueToCode(e,"LOWER0",q.Order.NONE),a=t.valueToCode(e,"UPPER1",q.Order.NONE),r=t.valueToCode(e,"LOWER1",q.Order.NONE),o=t.valueToCode(e,"UPPER2",q.Order.NONE),s=t.valueToCode(e,"LOWER2",q.Order.NONE),i=t.valueToCode(e,"UPPER3",q.Order.NONE),c=t.valueToCode(e,"LOWER3",q.Order.NONE);return"robot.centeredDynamicServoAssignment(".concat(n,", ").concat(l,", ").concat(a,", ").concat(r,", ").concat(o,", ").concat(s,", ").concat(i,", ").concat(c,")\n")},q.pythonGenerator.forBlock.sensing_accel=function(e,t){let n=e.getFieldValue("AXIS");return["imu.acceleration[".concat(n,"]"),q.Order.NONE]},q.pythonGenerator.forBlock.sensing_gyro=function(e,t){let n=e.getFieldValue("AXIS");return["imu.gyro[".concat(n,"]"),q.Order.NONE]},q.pythonGenerator.forBlock.sensing_temp=function(e,t){return["imu.temperature",q.Order.NONE]},q.pythonGenerator.forBlock.sensing_button=function(e,t){let n=e.getFieldValue("BUTTON");return["".concat(n,".value()"),q.Order.NONE]},q.pythonGenerator.forBlock.sensing_console_trigger=function(e,t){let n=e.getFieldValue("BUTTON");return["".concat(n,".value()"),q.Order.NONE]},q.pythonGenerator.forBlock.sensing_console_joystick_button=function(e,t){let n=e.getFieldValue("BUTTON");return["".concat(n,".value()"),q.Order.NONE]},q.pythonGenerator.forBlock.sensing_console_joystick=function(e,t){let n=e.getFieldValue("JOYSTICK"),l=e.getFieldValue("AXIS");if("left"===n){if("x"===l)return["leftx.read()",q.Order.NONE];if("y"===l)return["lefty.read()",q.Order.NONE]}else if("right"===n){if("x"===l)return["rightx.read()",q.Order.NONE];if("y"===l)return["righty.read()",q.Order.NONE]}},q.pythonGenerator.forBlock.timing_sleep=function(e,t){let n=t.valueToCode(e,"SECS",q.Order.ATOMIC);return"time.sleep(".concat(n,")\n")},q.pythonGenerator.forBlock.timing_time=function(e,t){return["time.time()",q.Order.NONE]},q.pythonGenerator.forBlock.timing_ticksms=function(e,t){return["time.ticks_ms()",q.Order.NONE]};let ee=()=>({kind:"categoryToolbox",contents:[{kind:"category",name:"%{BKY_CATEGORY_STRUCTURE}",categorystyle:"structure_category",contents:[{kind:"block",type:"matrix_init"},{kind:"block",type:"ring_init"},{kind:"block",type:"time_init"},{kind:"block",type:"speaker_init"},{kind:"block",type:"imu_init"},{kind:"block",type:"button_init"},{kind:"block",type:"microphone_init"},{kind:"block",type:"crawler_init"},{kind:"block",type:"wheeler_init"},{kind:"block",type:"console_init"},{kind:"block",type:"controls_repeat_ext",inputs:{TIMES:{block:{type:"value_number",fields:{NUM:10}}}}},{kind:"block",type:"controls_whileUntil"},{kind:"block",type:"controls_for",inputs:{FROM:{block:{type:"value_number",fields:{NUM:0}}},TO:{block:{type:"value_number",fields:{NUM:10}}},BY:{block:{type:"value_number",fields:{NUM:1}}}}},{kind:"block",type:"controls_forEach"},{kind:"block",type:"controls_flow_statements"}]},{kind:"category",name:"%{BKY_CATEGORY_CONDITION}",categorystyle:"condition_category",contents:[{kind:"block",type:"controls_if"},{kind:"block",type:"logic_compare"},{kind:"block",type:"logic_operation"},{kind:"block",type:"logic_negate"},{kind:"block",type:"logic_boolean"},{kind:"block",type:"logic_null"},{kind:"block",type:"logic_ternary"}]},{kind:"category",name:"%{BKY_CATEGORY_VALUE}",categorystyle:"value_category",contents:[{kind:"block",type:"value_number"},{kind:"block",type:"text"}]},{kind:"category",name:"%{BKY_CATEGORY_MOTION}",categorystyle:"motion_category",contents:[{kind:"block",type:"motion_command",inputs:{STEPS:{block:{type:"value_number",fields:{NUM:3}}}}},{kind:"block",type:"motion_command_2",inputs:{STEPS:{block:{type:"value_number",fields:{NUM:3}}}}},{kind:"block",type:"motion_command_3",inputs:{SECONDS:{block:{type:"value_number",fields:{NUM:3}}}}},{kind:"block",type:"motion_center"},{kind:"block",type:"motion_off"},{kind:"block",type:"motion_set_angle",inputs:{ANGLE:{block:{type:"value_number",fields:{NUM:0}}}}},{kind:"block",type:"motion_single",inputs:{UPPER:{block:{type:"value_number",fields:{NUM:0}}},LOWER:{block:{type:"value_number",fields:{NUM:0}}}}},{kind:"block",type:"motion_all",inputs:{UPPER0:{block:{type:"value_number",fields:{NUM:0}}},LOWER0:{block:{type:"value_number",fields:{NUM:0}}},UPPER1:{block:{type:"value_number",fields:{NUM:0}}},LOWER1:{block:{type:"value_number",fields:{NUM:0}}},UPPER2:{block:{type:"value_number",fields:{NUM:0}}},LOWER2:{block:{type:"value_number",fields:{NUM:0}}},UPPER3:{block:{type:"value_number",fields:{NUM:0}}},LOWER3:{block:{type:"value_number",fields:{NUM:0}}}}},{kind:"block",type:"motion_throttle",inputs:{THROTTLE:{block:{type:"value_number",fields:{NUM:0}}}}},{kind:"block",type:"motion_steering",inputs:{FRONT_ANGLE:{block:{type:"value_number",fields:{NUM:0}}},BACK_ANGLE:{block:{type:"value_number",fields:{NUM:0}}}}}]},{kind:"category",name:"%{BKY_CATEGORY_SOUND}",categorystyle:"sound_category",contents:[{kind:"block",type:"sound_play"},{kind:"block",type:"sound_play_record"},{kind:"block",type:"sound_record",inputs:{SECS:{block:{type:"value_number",fields:{NUM:1}}}}}]},{kind:"category",name:"%{BKY_CATEGORY_SENSING}",categorystyle:"sensing_category",contents:[{kind:"block",type:"sensing_accel"},{kind:"block",type:"sensing_gyro"},{kind:"block",type:"sensing_temp"},{kind:"block",type:"sensing_button"},{kind:"block",type:"sensing_console_trigger"},{kind:"block",type:"sensing_console_joystick_button"},{kind:"block",type:"sensing_console_joystick"}]},{kind:"category",name:"%{BKY_CATEGORY_DISPLAY}",categorystyle:"display_category",contents:[{kind:"block",type:"matrix_reset"},{kind:"block",type:"ring_reset"},{kind:"block",type:"matrix_character"},{kind:"block",type:"matrix_scroll",inputs:{VALUE:{block:{type:"text"}}}},{kind:"block",type:"ring_spin"},{kind:"block",type:"matrix_manual",inputs:{INDEX:{block:{type:"value_number",fields:{NUM:0}}}}},{kind:"block",type:"ring_manual",inputs:{INDEX:{block:{type:"value_number",fields:{NUM:0}}}}},{kind:"block",type:"matrix_all"},{kind:"block",type:"ring_all"},{kind:"block",type:"matrix_manual_2",inputs:{INDEX:{block:{type:"value_number",fields:{NUM:0}}},RED:{block:{type:"value_number",fields:{NUM:0}}},GREEN:{block:{type:"value_number",fields:{NUM:0}}},BLUE:{block:{type:"value_number",fields:{NUM:0}}}}},{kind:"block",type:"ring_manual_2",inputs:{INDEX:{block:{type:"value_number",fields:{NUM:0}}},RED:{block:{type:"value_number",fields:{NUM:0}}},GREEN:{block:{type:"value_number",fields:{NUM:0}}},BLUE:{block:{type:"value_number",fields:{NUM:0}}}}},{kind:"block",type:"matrix_all_2",inputs:{RED:{block:{type:"value_number",fields:{NUM:0}}},GREEN:{block:{type:"value_number",fields:{NUM:0}}},BLUE:{block:{type:"value_number",fields:{NUM:0}}}}},{kind:"block",type:"ring_all_2",inputs:{RED:{block:{type:"value_number",fields:{NUM:0}}},GREEN:{block:{type:"value_number",fields:{NUM:0}}},BLUE:{block:{type:"value_number",fields:{NUM:0}}}}}]},{kind:"category",name:"%{BKY_CATEGORY_TIMING}",categorystyle:"timing_category",contents:[{kind:"block",type:"timing_sleep",inputs:{SECS:{block:{type:"value_number",fields:{NUM:1}}}}},{kind:"block",type:"timing_time"},{kind:"block",type:"timing_ticksms"}]},{kind:"category",name:"%{BKY_CATEGORY_OTHER}",categorystyle:"other_category",expanded:!1,contents:[{kind:"category",name:"%{BKY_CATEGORY_MATH}",categorystyle:"math_category",contents:[{kind:"block",type:"math_arithmetic",inputs:{A:{block:{type:"value_number",fields:{NUM:0}}},B:{block:{type:"value_number",fields:{NUM:0}}}}},{kind:"block",type:"math_single",inputs:{NUM:{block:{type:"value_number",fields:{NUM:9}}}}},{kind:"block",type:"math_trig",inputs:{NUM:{block:{type:"value_number",fields:{NUM:45}}}}},{kind:"block",type:"math_constant"},{kind:"block",type:"math_number_property",inputs:{NUMBER_TO_CHECK:{block:{type:"value_number",fields:{NUM:0}}}}},{kind:"block",type:"math_round",inputs:{NUM:{block:{type:"value_number",fields:{NUM:3.1}}}}},{kind:"block",type:"math_on_list"},{kind:"block",type:"math_modulo",inputs:{DIVIDEND:{block:{type:"value_number",fields:{NUM:64}}},DIVISOR:{block:{type:"value_number",fields:{NUM:10}}}}},{kind:"block",type:"math_constrain",inputs:{VALUE:{block:{type:"value_number",fields:{NUM:50}}},LOW:{block:{type:"value_number",fields:{NUM:0}}},HIGH:{block:{type:"value_number",fields:{NUM:100}}}}},{kind:"block",type:"math_random_int",inputs:{FROM:{block:{type:"value_number",fields:{NUM:1}}},TO:{block:{type:"value_number",fields:{NUM:100}}}}},{kind:"block",type:"math_random_float"},{kind:"block",type:"math_atan2",inputs:{X:{block:{type:"value_number",fields:{NUM:1}}},Y:{block:{type:"value_number",fields:{NUM:1}}}}}]},{kind:"category",name:"%{BKY_CATEGORY_DATA_LIST}",categorystyle:"dataList_category",contents:[{kind:"block",type:"lists_create_empty"},{kind:"block",type:"lists_repeat"},{kind:"block",type:"lists_reverse"},{kind:"block",type:"lists_isEmpty"},{kind:"block",type:"lists_length"},{kind:"block",type:"lists_create_with"},{kind:"block",type:"lists_indexOf"},{kind:"block",type:"lists_getIndex"},{kind:"block",type:"lists_setIndex"},{kind:"block",type:"lists_getSublist"},{kind:"block",type:"lists_sort"},{kind:"block",type:"lists_split"}]},{kind:"category",name:"%{BKY_CATEGORY_EXTERNAL}",categorystyle:"external_category",contents:[]},{kind:"category",name:"%{BKY_CATEGORY_VARIABLES}",custom:"VARIABLE",categorystyle:"variables_category"}]}]});var et=n(8993),en=n(8266),el=n(9187),ea=n(6190),er=n(1057),eo=n(1392),es=n(1927),ei=n(1310),ec=n(8553),ed=n(5756),eu=n(5095),em=n(4898),ep=n(8004),e_=n(7523),ef=n(9439),ey=n(3848);let eg=()=>{let{t:e}=(0,Y.N)(),{config:t}=(0,j.Z)(),[a,o]=(0,r.useState)(t.locale),s=(0,r.useRef)(null),[i,d]=(0,r.useState)(void 0),u=e=>new XMLSerializer().serializeToString(e),m=e=>new DOMParser().parseFromString(e,"text/xml").documentElement;(0,r.useEffect)(()=>{o(t.locale);let e=async()=>{let e={en:(await Promise.resolve().then(n.t.bind(n,4868,19))).default,vi:(await Promise.resolve().then(n.t.bind(n,4166,19))).default,fr:(await Promise.resolve().then(n.t.bind(n,796,19))).default},t=Object.keys(e).includes(a)?a:"en",l=Object.entries(e[t]).reduce((e,t)=>{let[n,l]=t;if(n.startsWith("BLOCKLY_")){let t=n.replace("BLOCKLY_","");e[t]=Array.isArray(l)?l[0]:l}return e},{});F.setLocale(l),K.defineBlocksWithJsonArray([...Z,...z,...X,...H,...$,...J,...Q]),K.Theme.defineTheme("CYOBot",V);let r=ee();d(r);let o=s.current;if(o){let e=F.Xml.workspaceToDom(o),t=u(e);o.clear();let n=m(t);F.Xml.domToWorkspace(n,o);let l=o.getToolbox(),a=null==l?void 0:l.getSelectedItem();a&&a.setVisible_(!1)}};e()},[t.locale,a]);let[p,_]=(0,r.useState)(""),{code:f,setCode:y}=(0,U.h)(),{client:g}=(0,eo.x)(),{setClientResponses:N}=(0,es.v)(),{setWorkspaceRef:x}=(0,D.n)(),T=(0,r.useCallback)(e=>{s.current=e,x(e)},[x]),{toast:b,dismiss:E}=(0,P.pm)(),[h,k]=(0,er._)(el._.localStorage.cyobot_local_storage_code_executing,!1),[S,O]=(0,er._)(el._.localStorage.cyobot_local_storage_code_deploying,!1),[v,C]=(0,er._)(el._.localStorage.cyobot_local_storage_code_saving,!1),[I,R]=(0,er._)(el._.localStorage.cyobot_local_storage_code_loading,!1);(0,r.useEffect)(()=>{g.addOnMessageReceiveCallback("onMessageReceive",e=>{if("STARTCODERUNNING"===e)k(!0);else{if("ENDCODERUNNING"!==e)return;k(!1)}})},[g,k]);let A=(0,r.useCallback)(()=>{g.send(f),N([])},[g,f,N]),L=(0,r.useCallback)(()=>{g.interrupt(),k(!1)},[g,k]),{robotIPAddress:w}=(0,ei.W)(),B=(0,r.useCallback)(async(t,n,l)=>{if(S)try{let a=await ec.Z.post("".concat(null===w?"":"http://".concat(w),"/api/deploy"),{code:t},{headers:{"Content-Type":"text/plain"}});if(200!==a.status)throw a;if('"fail"'==a.data){n(!1),l({title:e("TOAST_DEPLOY_CODE_FAIL_TITLE"),description:e("TOAST_DEPLOY_CODE_FAIL_DESCRIPTION"),variant:"destructive"});return}l({title:e("TOAST_DEPLOY_CODE_SUCCESS_TITLE"),description:e("TOAST_DEPLOY_CODE_SUCCESS_DESCRIPTION")}),n(!1)}catch(t){n(!1),console.error(t),l({title:e("TOAST_DEPLOY_CODE_ERROR_TITLE"),description:e("TOAST_DEPLOY_CODE_ERROR_DESCRIPTION"),variant:"destructive"});return}},[S,w,e]),[M,G]=(0,r.useState)(!1);(0,r.useEffect)(()=>{S&&B(f,O,b)},[f,S,B,O,b]);let W=(0,r.useCallback)(()=>{s.current&&(s.current.clear(),_(""))},[]),{refetchLoad:eg}=(0,ea.d)(),eN=(0,r.useCallback)(async(t,n,l)=>{if(v)try{let t=F.Xml.workspaceToDom(s.current),a=F.Xml.domToText(t),r=await ec.Z.post("".concat(null===w?"":"http://".concat(w),"/api/save"),{xmlText:a},{headers:{"Content-Type":"text/plain"}});if(200!==r.status)throw r;if('"fail"'==r.data){n(!1),l({title:e("TOAST_SAVE_CODE_ERROR_TITLE"),description:e("TOAST_SAVE_CODE_ERROR_DESCRIPTION"),variant:"destructive"});return}l({title:e("TOAST_SAVE_CODE_SUCCESS_TITLE"),description:e("TOAST_SAVE_CODE_SUCCESS_DESCRIPTION")}),n(!1)}catch(t){n(!1),console.error(t),l({title:e("TOAST_SAVE_CODE_ERROR_TITLE"),description:e("TOAST_SAVE_CODE_ERROR_DESCRIPTION"),variant:"destructive"});return}},[v,w]);return(0,r.useEffect)(()=>{v&&eN(f,C,b)},[f,v,eN,C,b]),(0,l.jsxs)("div",{className:"py-4 m-full h-full flex flex-col",children:[(0,l.jsxs)("div",{className:"flex-1 relative",children:[(0,l.jsxs)("div",{className:"absolute -top-14 right-6 flex gap-x-4",children:[(0,l.jsxs)(c.z,{variant:"outline",className:"text-primary ".concat(v?"bg-background/50 hover:bg-background/50 backdrop-blur-md cursor-not-allowed":"cursor-pointer"),onClick:()=>{"connected"!==g.status?b({title:e("TOAST_NETWORK_STATUS_DISCONNECTED_TITLE"),description:e("TOAST_NETWORK_STATUS_DISCONNECTED_SAVE_DESCRIPTION"),variant:"destructive"}):(E(),C(!0))},children:[v?(0,l.jsx)(en.$,{className:"h-4 w-4 mr-1.5"}):(0,l.jsx)(ed.Z,{className:"h-4 w-4 mr-1.5"}),e("SAVE")]}),(0,l.jsxs)(c.z,{variant:"outline",className:"text-primary ".concat(I?"bg-background/50 hover:bg-background/50 backdrop-blur-md cursor-not-allowed":"cursor-pointer"),onClick:async()=>{if("connected"!==g.status){b({title:e("TOAST_NETWORK_STATUS_DISCONNECTED_TITLE"),description:e("TOAST_NETWORK_STATUS_DISCONNECTED_SAVE_DESCRIPTION"),variant:"destructive"});return}E(),R(!0);try{let e=await ec.Z.get("".concat(null===w?"":"http://".concat(w),"/api/load"));if(200!==e.status)throw e;let t=e.data;if(_(t),s.current){s.current.clear();let e=F.utils.xml.textToDom(t);F.Xml.domToWorkspace(e,s.current)}b({title:"Success",description:"Loaded blocks from SD card"})}catch(e){console.error(e),b({title:"Error: Fail to load blocks",description:"Please try again",variant:"destructive"})}finally{R(!1)}},children:[I?(0,l.jsx)(en.$,{className:"h-4 w-4 mr-1.5"}):(0,l.jsx)(eu.Z,{className:"h-4 w-4 mr-1.5"}),e("LOAD")]})]}),(0,l.jsx)("div",{className:"absolute w-full h-[calc(100%-40px-8px)] bg-muted",children:i&&(0,l.jsx)(ey.E7,{toolboxConfiguration:ee(),className:"w-full h-full",workspaceConfiguration:{grid:{spacing:20,length:3,colour:"#ccc",snap:!0},trashcan:!0,zoom:{controls:!0,wheel:!0,startScale:1,maxScale:3,minScale:.3,scaleSpeed:1.2,pinch:!0},maxInstances:{alert_context:1},media:"./_next/media/",sounds:!1,theme:"CYOBot"},initialXml:p,onWorkspaceChange:function(e){y(q.pythonGenerator.workspaceToCode(e))},onXmlChange:_,onInject:T})})]}),(0,l.jsx)("div",{className:"relative",children:(0,l.jsxs)("div",{className:"absolute bottom-0 w-full flex flex-row justify-end space-x-4 px-4",children:[(0,l.jsxs)(c.z,{className:"".concat(S?"cursor-not-allowed bg-muted/50 hover:bg-muted/50":"cursor-pointer"," "),variant:"muted",onClick:W,children:[(0,l.jsx)(em.Z,{className:"h-4 w-4 mr-1.5"}),e("CLEAR")]}),(0,l.jsxs)(c.z,{variant:"destructive",className:"text-background ".concat(S?"cursor-not-allowed hover:bg-destructive/50 bg-destructive/50":"bg-destructive"),onClick:()=>{if("connected"!==g.status){b({title:e("TOAST_NETWORK_STATUS_DISCONNECTED_TITLE"),description:e("TOAST_NETWORK_STATUS_DISCONNECTED_BREAK_DESCRIPTION"),variant:"destructive"});return}L()},children:[(0,l.jsx)(ep.Z,{className:"h-4 w-4 mr-1.5"}),e("BREAK")]}),(0,l.jsxs)(c.z,{variant:"positive",className:"".concat(h||S?"bg-positive/30 hover:bg-positive/30 backdrop-blur-md cursor-not-allowed":"text-primary cursor-pointer"),onClick:()=>{S||h||("connected"!==g.status?b({title:e("TOAST_NETWORK_STATUS_DISCONNECTED_TITLE"),description:e("TOAST_NETWORK_STATUS_DISCONNECTED_RUN_DESCRIPTION"),variant:"destructive"}):(E(),A()))},children:[h?(0,l.jsx)(en.$,{className:"h-4 w-4 mr-1.5"}):(0,l.jsx)(e_.Z,{className:"h-4 w-4 mr-1.5"}),e("RUN")]}),(0,l.jsxs)(c.z,{variant:"secondary",className:"".concat(S||h?"bg-secondary/50 hover:bg-secondary/50 backdrop-blur-md cursor-not-allowed":"cursor-pointer"),onClick:()=>{S||h||("connected"!==g.status?b({title:e("TOAST_NETWORK_STATUS_DISCONNECTED_TITLE"),description:e("TOAST_NETWORK_STATUS_DISCONNECTED_DEPLOY_DESCRIPTION"),variant:"destructive"}):(E(),G(!0)))},children:[(0,l.jsx)(ef.Z,{className:"h-4 w-4 mr-1.5"}),e("DEPLOY")]})]})}),(0,l.jsx)(et.aR,{open:M,onOpenChange:G,children:(0,l.jsxs)(et.zJ,{children:[(0,l.jsx)(et.dh,{}),(0,l.jsxs)(et._T,{children:[(0,l.jsx)(et.f$,{children:e("ALERT_CODE_DEPLOY_TITLE")}),(0,l.jsx)(et.yT,{children:e("ALERT_CODE_DEPLOY_DESCRIPTION")}),(0,l.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,l.jsx)(et.le,{onClick:()=>{O(!1)},children:e("CANCEL")}),(0,l.jsx)(et.OL,{onClick:()=>{O(!0)},children:e("CONFIRM")})]})]})]})})]})},eN=r.forwardRef((e,t)=>{let{className:n,type:a,...r}=e;return(0,l.jsx)("input",{type:a,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...r})});eN.displayName="Input";var ex=n(6523),eT=n(5881),eb=n(7834),eE=n(4541);let eh=e=>{let{password:t,setPassword:n,selectedSSID:a,connecting:o,setConnecting:s,onClickSelectWifiNetwork:i,onClickConnect:d}=e,[u,m]=(0,r.useState)(!1);return(0,l.jsxs)("div",{className:"bg-muted/50 rounded-lg px-6 py-4 my-4 flex flex-col space-y-4 max-w-5xl mx-auto",children:[(0,l.jsx)(ex.k,{className:"text-secondary text-center",children:"Connect CYOBot to WiFi"}),(0,l.jsxs)("div",{children:["Input password for WiFi ",(0,l.jsx)("b",{children:a})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(eN,{placeholder:"Password",value:null!=t?t:"",type:u?"text":"password",onChange:e=>n(""===e.target.value?void 0:e.target.value)}),(0,l.jsx)("div",{className:"absolute right-0 top-0 h-full flex items-center",children:u?(0,l.jsx)(eT.Z,{className:"h-4.5 w-4.5 mr-3",onClick:()=>m(!1)}):(0,l.jsx)(eb.Z,{className:"h-4.5 w-4.5 mr-3",onClick:()=>m(!0)})})]}),(0,l.jsxs)("div",{className:"flex flex-row justify-between items-center space-x-48",children:[(0,l.jsx)("button",{onClick:i,children:(0,l.jsx)("div",{className:"flex flex-row items-center justify-start",children:(0,l.jsxs)("span",{className:"hover:border-b border-foreground",children:[(0,l.jsx)(eE.Z,{className:"w-4 h-4 mr-1 inline"}),"Back to select WiFi network"]})})}),o?(0,l.jsx)(en.$,{}):(0,l.jsx)(c.z,{variant:"default",onClick:d,children:"Connect"})]})]})},ek=e=>{let{onClickReturnToHome:t,onClickSelectWifi:n}=e,{config:a}=(0,j.Z)(),{t:r}=(0,Y.N)();return(0,l.jsxs)("div",{className:"bg-muted/50 rounded-lg px-6 py-4 my-4 flex flex-col space-y-4 max-w-5xl mx-auto relative",children:[(0,l.jsx)("button",{onClick:n,className:"absolute top-8 left-8",children:(0,l.jsx)("div",{className:"flex flex-row items-center justify-start",children:(0,l.jsxs)("span",{className:"hover:border-b border-foreground",children:[(0,l.jsx)(eE.Z,{className:"w-4 h-4 mr-1 inline"}),r("ONBOARDING_BACK_TO_WIFI_SELECT")]})})}),(0,l.jsx)(ex.k,{className:"text-secondary text-center",children:r("ONBOARDING_WIFI_CONNECT_TITLE")}),(0,l.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 mx-auto gap-x-8",children:a.onboarding.openPortalInstructionCards.map((e,t)=>(0,l.jsxs)(d,{className:"max-w-xs",children:[(0,l.jsx)(u,{className:"text-secondary text-xl",children:e.header}),(0,l.jsx)(_,{className:"text-lg",children:e.content})]},t))}),(0,l.jsx)("div",{className:"flex justify-center items-center",children:(0,l.jsx)(c.z,{variant:"default",onClick:t,children:r("ONBOARDING_RETURN_TO_HOME")})})]})};function eS(e){let{className:t,...n}=e;return(0,l.jsx)("div",{className:(0,o.cn)("animate-pulse rounded-md bg-muted",t),...n})}var eO=n(678);let ev=eO.z.object({ssid:eO.z.string(),strength:eO.z.number()});var eC=n(3328);let eI=()=>{let{config:e}=(0,j.Z)(),{robotIPAddress:t}=(0,ei.W)(),[n,l]=(0,r.useState)(),{data:a,refetch:o}=(0,eC.useQuery)(e.queryIndices.useNetworks,async()=>{try{let e=await ec.Z.get("".concat(null===t?"":"http://".concat(t),"/api/wifi"));if(200!==e.status)throw e;return eO.z.array(ev).parse(e.data)}catch(e){return console.error(e),[]}});return(0,r.useEffect)(()=>{a&&l(a)},[a]),{networks:n,refetchNetworks:async()=>{await o()}}};var eR=n(1693);let ej=e=>{let{onSelectSSID:t}=e,{t:n}=(0,Y.N)(),{networks:a,refetchNetworks:r}=eI();return(0,l.jsxs)("div",{className:"bg-muted/50 rounded-lg px-6 py-4 my-4 flex flex-col space-y-4 max-w-5xl mx-auto",children:[(0,l.jsx)(ex.k,{className:"text-secondary text-center",children:n("ONBOARDING_WIFI_CONNECT_TITLE")}),(0,l.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,l.jsx)("header",{children:n("ONBOARDING_WIFI_CONNECT_DESCRIPTION")}),(0,l.jsx)("button",{onClick:r,children:(0,l.jsx)(eR.Z,{className:"h-5 w-5"})})]}),(0,l.jsx)("div",{className:"h-40 flex flex-col space-y-4 overflow-y-auto",children:a?a.length>0?a.map((e,n)=>(0,l.jsx)("button",{onClick:()=>t(e.ssid),children:(0,l.jsxs)("div",{className:"flex justify-between items-center rounded-lg px-4 py-2 bg-background hover:bg-background/70",children:[(0,l.jsx)("span",{children:e.ssid}),(0,l.jsx)("span",{children:e.strength})]})},n)):(0,l.jsx)("div",{className:"flex justify-center items-center rounded-lg px-4 py-2 bg-background hover:bg-background/70 text-center",children:n("ONBOARDING_WIFI_CONNECT_NOT_FOUND")}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eS,{className:"w-full h-12 rouned-lg"}),(0,l.jsx)(eS,{className:"w-full h-12 rouned-lg"}),(0,l.jsx)(eS,{className:"w-full h-12 rouned-lg"}),(0,l.jsx)(eS,{className:"w-full h-12 rouned-lg"})]})})]})};var eA=n(9179),eL=n(3887);let ew=eA.fC;eA.xz;let eD=eA.h_;eA.x8;let eB=r.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,l.jsx)(eA.aV,{ref:t,className:(0,o.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...a})});eB.displayName=eA.aV.displayName;let eU=r.forwardRef((e,t)=>{let{className:n,children:a,onClickOutside:s,onClickClose:i,onPressEscape:c,...d}=e;return r.useEffect(()=>{let e=e=>{"Escape"===e.key&&c&&c()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[c]),(0,l.jsxs)(eD,{children:[(0,l.jsx)(eB,{onClick:s}),(0,l.jsxs)(eA.VY,{ref:t,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...d,children:[a,(0,l.jsxs)(eA.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",onClick:i,children:[(0,l.jsx)(eL.Z,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});eU.displayName=eA.VY.displayName;let eP=r.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,l.jsx)(eA.Dx,{ref:t,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",n),...a})});eP.displayName=eA.Dx.displayName;let eM=r.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,l.jsx)(eA.dk,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",n),...a})});eM.displayName=eA.dk.displayName;var eY=n(7501),eG=n(2145);let eK=e=>{let{setOpen:t,selectedSSID:n,setSelectedSSID:a,password:o,setPassword:s,connecting:i,setConnecting:c,connectToWifi:d}=e,{toast:u}=(0,P.pm)(),[m,p]=(0,r.useState)(0);return(0,l.jsxs)(l.Fragment,{children:[0===m&&(0,l.jsx)(ek,{onClickReturnToHome:()=>t(!1),onClickSelectWifi:()=>p(1)}),1===m&&(0,l.jsx)(ej,{onSelectSSID:e=>{a(e),p(2)}}),2===m&&(0,l.jsx)(eh,{selectedSSID:n,password:o,setPassword:s,onClickSelectWifiNetwork:()=>p(1),onClickConnect:async()=>{n&&o&&(await d(n,o,c,u),p(0))},connecting:i,setConnecting:c})]})},eF=e=>{let{setOpen:t,selectedSSID:n,setSelectedSSID:a,password:o,setPassword:s,connecting:i,setConnecting:c,connectToWifi:d}=e,{toast:u}=(0,P.pm)(),[m,p]=(0,r.useState)(0);return(0,l.jsxs)(l.Fragment,{children:[0===m&&(0,l.jsx)(ej,{onSelectSSID:e=>{a(e),p(1)}}),1===m&&(0,l.jsx)(eh,{selectedSSID:n,password:o,setPassword:s,onClickSelectWifiNetwork:()=>p(0),onClickConnect:async()=>{n&&o&&(await d(n,o,c,u),p(2))},connecting:i,setConnecting:c}),2===m&&(0,l.jsx)(ek,{onClickReturnToHome:()=>t(!1),onClickSelectWifi:()=>p(0)})]})},eW=()=>{let{t:e}=(0,Y.N)(),{open:t,setOpen:n}=(0,eG.K)(),{status:a}=(0,eY.c)(),[o,s]=(0,r.useState)(),[i,c]=(0,r.useState)(),[d,u]=(0,r.useState)(!1),{robotIPAddress:m}=(0,ei.W)(),p=(0,r.useCallback)(async(t,n,l,a)=>{l(!0),a({title:e("TOAST_WIFI_CONNECTING_TITLE")});try{let r=await ec.Z.post("".concat(null===m?"":"http://".concat(m),"/api/wifi"),{ssid:t,password:n},{headers:{"Content-Type":"text/plain"}});if(200!==r.status)throw r;if('"fail"'==r.data){l(!1),a({title:e("TOAST_WIFI_CONNECT_FAIL_TITLE"),description:e("TOAST_WIFI_CONNECT_FAIL_DESCRIPTION"),variant:"destructive"});return}a({title:e("TOAST_WIFI_CONNECT_SUCCESS_TITLE"),description:e("TOAST_WIFI_CONNECT_SUCCESS_DESCRIPTION")}),l(!1)}catch(t){l(!1),console.error(t),a({title:e("TOAST_SETTINGS_UPDATE_ERROR_TITLE"),description:e("TOAST_SETTINGS_UPDATE_ERROR_DESCRIPTION"),variant:"destructive"});return}},[m,e]);return(0,l.jsx)(ew,{open:t,children:(0,l.jsx)(eU,{className:"lg:max-w-none lg:w-3/4",onClickOutside:()=>n(!1),onClickClose:()=>n(!1),onPressEscape:()=>n(!1),children:"connected"===a?(0,l.jsx)(eK,{open:t,setOpen:n,selectedSSID:o,setSelectedSSID:s,password:i,setPassword:c,connecting:d,setConnecting:u,connectToWifi:p}):(0,l.jsx)(eF,{open:t,setOpen:n,selectedSSID:o,setSelectedSSID:s,password:i,setPassword:c,connecting:d,setConnecting:u,connectToWifi:p})})})};var eV=n(3526);let eZ=(0,a.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ez=r.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,l.jsx)(eV.f,{ref:t,className:(0,o.cn)(eZ(),n),...a})});ez.displayName=eV.f.displayName;var eX=n(4884);let eH=eX.fC,e$=r.forwardRef((e,t)=>{let{className:n,children:a,...r}=e;return(0,l.jsx)(eX.ck,{ref:t,className:(0,o.cn)("p-3 transition-colors duration-200 ease-in flex items-center justify-center leading-none select-none first:ml-0 first:rounded-l-md last:rounded-r-md ml-[1px] data-[state=on]:bg-secondary data-[state=on]:text-accent focus:relative focus:outline-none focus:ring-2 focus:ring-black border border-input bg-background hover:bg-accent hover:text-accent-foreground",n),...r,children:a})});e$.displayName=eX.ck.displayName;let eJ=()=>{let{t:e}=(0,Y.N)(),{config:t,refetchConfig:n}=(0,j.Z)(),{refetchStatus:a}=(0,eo.x)(),[o,s]=(0,r.useState)(t.editor),[i,c]=(0,r.useState)(t.editor),{robotIPAddress:d}=(0,ei.W)(),[u,m]=(0,r.useState)(!1),p=(0,r.useRef)(null),[_,f]=(0,r.useState)(!1),y=(0,eC.useMutation)({mutationKey:"updateEditor",mutationFn:async()=>{m(!0),await ec.Z.post("".concat(null===d?"":"http://".concat(d),"/api/config"),{editor:p.current},{timeout:1e4,headers:{"Content-Type":"text/plain"}})},onSettled:()=>{m(!1)},onSuccess:async()=>{await n(),a()},onError:()=>{s(i),(0,P.Am)({title:e("TOAST_SETTINGS_UPDATE_ERROR_TITLE"),description:e("TOAST_SETTINGS_UPDATE_ERROR_DESCRIPTION"),variant:"destructive"})}}),g=e=>{null!==e&&""!==e&&e!==o&&("code"===e||"block"===e)&&(c(o),p.current=e,f(!0))};return(0,l.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,l.jsx)(ez,{htmlFor:"editor",children:e("EDITOR")}),(0,l.jsxs)(eH,{id:"editor",className:"flex flex-row items-center justify-center",type:"single",value:o,"aria-label":"Code editor",onValueChange:e=>g(e),children:[(0,l.jsx)(e$,{value:"code","aria-label":"Code editor",children:e("CODE")}),(0,l.jsx)(e$,{value:"block","aria-label":"Block editor",children:e("BLOCK")})]}),(0,l.jsx)(et.aR,{open:_,onOpenChange:f,children:(0,l.jsxs)(et.zJ,{children:[(0,l.jsx)(et.dh,{}),(0,l.jsxs)(et._T,{children:[(0,l.jsx)(et.f$,{children:e("ALERT_SETTINGS_UPDATE_TITLE")}),(0,l.jsx)(et.yT,{children:e("ALERT_EDITOR_UPDATE_DESCRIPTION")}),(0,l.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,l.jsx)(et.le,{onClick:()=>{p.current=null,f(!1)},children:e("CANCEL")}),(0,l.jsx)(et.OL,{onClick:()=>{null!==p.current&&("code"===p.current||"block"===p.current)&&(s(p.current),y.mutate()),u||f(!1)},children:e("CONFIRM")})]})]})]})})]})},eQ={supportedLanguages:[{displayName:"English",value:"en"},{displayName:"Tiếng Việt",value:"vi"},{displayName:"Le fran\xe7ais",value:"fr"}]},eq=()=>{let{t:e}=(0,Y.N)(),{config:t,refetchConfig:n}=(0,j.Z)(),{refetchStatus:a}=(0,eo.x)(),[o,s]=(0,r.useState)(!1),i=(0,r.useRef)(null),[c,d]=(0,r.useState)(t.locale),[u,m]=(0,r.useState)(t.locale),{robotIPAddress:p}=(0,ei.W)(),[_,f]=(0,r.useState)(!1),y=(0,eC.useMutation)({mutationKey:"updateEditor",mutationFn:async()=>{f(!0),await ec.Z.post("".concat(null===p?"":"http://".concat(p),"/api/config"),{locale:i.current},{timeout:1e4,headers:{"Content-Type":"text/plain"}})},onSettled:()=>{f(!1)},onSuccess:async()=>{await n(),a()},onError:()=>{d(u),(0,P.Am)({title:e("TOAST_SETTINGS_UPDATE_ERROR_TITLE"),description:e("TOAST_SETTINGS_UPDATE_ERROR_DESCRIPTION"),variant:"destructive"})}}),g=e=>{null!==e&&""!==e&&e!==c&&("en"===e||"vi"===e||"fr"===e)&&(m(c),i.current=e,s(!0))};return(0,l.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,l.jsx)(w.B,{className:"cursor-default text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:e("LANGUAGE")}),(0,l.jsxs)(T,{onValueChange:e=>g(e),value:c,children:[(0,l.jsx)(E,{children:(0,l.jsx)(b,{placeholder:t.locale})}),(0,l.jsx)(S,{children:eQ.supportedLanguages.map(e=>(0,l.jsx)(v,{value:e.value,children:e.displayName},e.value))})]}),(0,l.jsx)(et.aR,{open:o,onOpenChange:s,children:(0,l.jsxs)(et.zJ,{children:[(0,l.jsx)(et.dh,{}),(0,l.jsxs)(et._T,{children:[(0,l.jsx)(et.f$,{children:e("ALERT_SETTINGS_UPDATE_TITLE")}),(0,l.jsx)(et.yT,{children:e("ALERT_LANGUAGE_UPDATE_DESCRIPTION")}),(0,l.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,l.jsx)(et.le,{onClick:()=>{i.current=null,s(!1)},children:e("CANCEL")}),(0,l.jsx)(et.OL,{onClick:()=>{null!==i.current&&("en"===i.current||"vi"===i.current||"fr"===i.current)&&(d(i.current),y.mutate()),_||s(!1)},children:e("CONFIRM")})]})]})]})})]})},e0=()=>{let{t:e}=(0,Y.N)(),{toast:t}=(0,P.pm)(),{config:n,refetchConfig:a}=(0,j.Z)(),[o,s]=(0,r.useState)(n.pythonWebREPL.endpoint),{robotIPAddress:i,setRobotIPAddress:c}=(0,ei.W)(),[d,u]=(0,r.useState)(!1),m=(0,eC.useMutation)({mutationKey:"updateWsEndpoint",mutationFn:async()=>{u(!0),await ec.Z.post("".concat(null===i?"":"http://".concat(i),"/api/config"),{wsEndpoint:o},{timeout:1e4,headers:{"Content-Type":"text/plain"}})},onSettled:()=>{u(!1)},onSuccess:async()=>{await a()},onError:()=>{t({title:e("TOAST_SETTINGS_UPDATE_ERROR_TITLE"),description:e("TOAST_SETTINGS_UPDATE_ERROR_DESCRIPTION"),variant:"destructive"})}});return(0,l.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,l.jsx)(ez,{htmlFor:"robot-ip-address",children:e("ROBOT_IP_ADDRESS")}),(0,l.jsxs)("div",{className:"flex flex-row items-center justify-center",children:[(0,l.jsx)(eN,{id:"robot-ip-address",value:null!=i?i:"",onChange:e=>{c(""===e.target.value?null:e.target.value),s("ws://".concat(e.target.value,":8266"))}}),d?(0,l.jsx)(en.$,{className:"w-6 h-6 mx-2"}):(0,l.jsx)("button",{onClick:()=>{s("ws://".concat(i,":8266")),m.mutate()},children:(0,l.jsx)(x.Z,{className:"h-6 w-6 mx-2"})})]})]})},e1=()=>{let{t:e}=(0,Y.N)(),{toast:t}=(0,P.pm)(),{robotIPAddress:n}=(0,ei.W)(),[a,o]=(0,r.useState)(null),[s,i]=(0,r.useState)(null),[d,u]=(0,r.useState)(!1),[m,p]=(0,r.useState)(!1),_=(0,r.useCallback)(async(t,l,a,r)=>{a(!0),r({title:"Connecting to WiFi..."});try{let e=await ec.Z.post("".concat(null===n?"":"http://".concat(n),"/api/wifi"),{ssid:t,password:l},{headers:{"Content-Type":"text/plain"}});if(200!==e.status)throw e;if('"fail"'==e.data){a(!1),r({title:"Wrong WiFi password",description:"Please try again",variant:"destructive"});return}r({title:"Success",description:"Connected to WiFi"}),a(!1)}catch(t){a(!1),console.error(t),r({title:e("TOAST_SETTINGS_UPDATE_ERROR_TITLE"),description:e("TOAST_SETTINGS_UPDATE_ERROR_DESCRIPTION"),variant:"destructive"});return}},[n,e]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(w.B,{className:"cursor-default text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:e("WIFI_NETWORK")}),(0,l.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,l.jsx)(ez,{htmlFor:"ssid",className:"sr-only",children:e("SSID")}),(0,l.jsx)(eN,{className:"placeholder:text-gray-400",id:"ssid",placeholder:e("SSID"),value:null!=a?a:"",onChange:e=>{o(""===e.target.value?null:e.target.value)}}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(ez,{htmlFor:"wifi-password",className:"sr-only",children:e("WIFI_PASSWORD")}),(0,l.jsx)(eN,{className:"placeholder:text-gray-400",id:"wifi-password",placeholder:e("PASSWORD"),value:null!=s?s:"",type:d?"text":"password",onChange:e=>i(""===e.target.value?null:e.target.value)}),(0,l.jsx)("div",{className:"absolute right-0 top-0 h-full flex items-center",children:d?(0,l.jsx)(eT.Z,{className:"h-4.5 w-4.5 mr-3",onClick:()=>u(!1)}):(0,l.jsx)(eb.Z,{className:"h-4.5 w-4.5 mr-3",onClick:()=>u(!0)})})]})]})]}),m?(0,l.jsx)(en.$,{}):(0,l.jsx)(c.z,{variant:"secondary",onClick:async()=>{null!==a&&null!==s&&await _(a,s,p,t)},children:e("CONNECT")})]})};var e2=n(2421);let e5=e2.fC,e4=r.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,l.jsx)(e2.ck,{ref:t,className:(0,o.cn)("border-b",n),...a})});e4.displayName="AccordionItem";let e9=r.forwardRef((e,t)=>{let{className:n,children:a,...r}=e;return(0,l.jsx)(e2.h4,{className:"flex",children:(0,l.jsxs)(e2.xz,{ref:t,className:(0,o.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",n),...r,children:[a,(0,l.jsx)(g.Z,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});e9.displayName=e2.xz.displayName;let e8=r.forwardRef((e,t)=>{let{className:n,children:a,...r}=e;return(0,l.jsx)(e2.VY,{ref:t,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:(0,l.jsx)("div",{className:(0,o.cn)("pb-4 pt-0",n),children:a})})});e8.displayName=e2.VY.displayName;let e6=e=>{let{t}=(0,Y.N)();return(0,l.jsx)(I.yo,{open:e.open,children:(0,l.jsxs)(I.ue,{className:"flex flex-col sm:w-[576px] sm:max-w-xl overflow-y-auto",side:"left",onClickClose:()=>e.setOpen(!1),onClickOutside:()=>e.setOpen(!1),onPressEscape:()=>e.setOpen(!1),children:[(0,l.jsx)(I.Tu,{children:(0,l.jsx)(I.bC,{asChild:!0,children:(0,l.jsx)(R.z,{children:t("SETTINGS")})})}),(0,l.jsx)("div",{className:"mt-8",children:(0,l.jsx)(e5,{type:"single",collapsible:!0,children:(0,l.jsxs)(e4,{value:"config",children:[(0,l.jsx)(e9,{children:t("CONFIG")}),(0,l.jsx)(e8,{children:(0,l.jsxs)("div",{className:"mx-1 flex flex-col space-y-4",children:[(0,l.jsx)(e0,{}),(0,l.jsx)(eJ,{}),(0,l.jsx)(eq,{}),(0,l.jsx)(e1,{})]})})]})})}),(0,l.jsx)(I.Ei,{className:"mt-auto self-center",children:B.u.version})]})})};var e3=n(8562);let e7=r.forwardRef((e,t)=>{let{className:n,value:a,...r}=e;return(0,l.jsx)(e3.fC,{ref:t,className:(0,o.cn)("relative h-4 w-full overflow-hidden rounded-full bg-muted",n),...r,children:(0,l.jsx)(e3.z$,{className:"h-full w-full flex-1 bg-muted-foreground transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});e7.displayName=e3.fC.displayName;let te=e=>{let{children:t,className:n}=e;return(0,l.jsx)("p",{className:(0,o.cn)("leading-7 [&:not(:first-child)]:mt-6",n),children:t})};var tt=n(9514),tn=n(5747),tl=n(2831),ta=n(9971),tr=n.n(ta),to=()=>{let{t:e}=(0,Y.N)(),{config:t}=(0,j.Z)(),[a,o]=(0,r.useState)(10),[s,i]=(0,r.useState)("Loading..."),d=(0,r.useRef)(),u=(0,r.useRef)();(0,r.useEffect)(()=>{if(!t||"code"!==t.editor)return;d.current=setInterval(()=>{o(e=>e>80?(clearInterval(d.current),e):e+t.codeEditor.loading.progressIncrementValue)},t.codeEditor.loading.progressIntervalMs);let e=0;return u.current=setInterval(()=>{i(t.codeEditor.loading.messages[e]),e=(e+1)%t.codeEditor.loading.messages.length},t.codeEditor.loading.messageIntervalMs),()=>{clearInterval(d.current),clearInterval(u.current)}},[t]);let m=(0,r.useMemo)(()=>tr()(()=>Promise.all([n.e(767),n.e(984),n.e(82)]).then(n.bind(n,7082)).then(e=>(clearInterval(d.current),clearInterval(u.current),i((t||tl.defaultConfig).codeEditor.loading.onFinishLoadingMessage),o(100),new Promise(n=>setTimeout(()=>n(e),(t||tl.defaultConfig).codeEditor.loading.onFinishLoadingDelayMs)))).then(e=>e.CodeEditor),{loadableGenerated:{webpack:()=>[7082]},loading:()=>(0,l.jsxs)("div",{className:"h-full flex flex-col space-y-8 justify-center items-center w-4/5 mx-auto",children:[(0,l.jsx)(te,{children:s}),(0,l.jsx)(e7,{value:a,className:"h-2.5"})]}),ssr:!1}),[t,s,a]),[p,_]=(0,r.useState)(!1),[f,y]=(0,r.useState)(!1),[g,N]=(0,r.useState)(200),[x,T]=(0,r.useState)(!1),b=(0,r.useRef)(null),[E,h]=(0,r.useState)(0);return(0,r.useEffect)(()=>{let e=()=>{b.current&&h(b.current.clientWidth)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,l.jsxs)("main",{ref:b,className:"mt-20 fixed w-full h-[calc(100%-140px)]",children:[(0,l.jsxs)("div",{className:"mx-6 mt-4 space-x-4",children:[(0,l.jsxs)(c.z,{variant:"outline",className:"text-primary",onClick:()=>_(!0),children:[(0,l.jsx)(tt.Z,{className:"h-4 w-4 mr-1.5"}),e("ACTIVITY")]}),(0,l.jsxs)(c.z,{variant:"outline",className:"text-primary",onClick:()=>y(!0),children:[(0,l.jsx)(tn.Z,{className:"h-4 w-4 mr-1.5"}),e("SETTINGS")]})]}),"code"===t.editor?(0,l.jsx)("div",{className:"flex h-[calc(100%-56px-24px)] mt-6",children:(0,l.jsx)(m,{})}):(0,l.jsx)(eg,{}),(0,l.jsx)(eW,{}),(0,l.jsx)(G,{open:p,setOpen:_}),(0,l.jsx)(e6,{open:f,setOpen:y})]})}},8993:function(e,t,n){"use strict";n.d(t,{OL:function(){return _},_T:function(){return u},aR:function(){return i},dh:function(){return d},f$:function(){return m},le:function(){return f},yT:function(){return p},zJ:function(){return c}});var l=n(9219),a=n(710),r=n(2564),o=n(4096),s=n(1962);let i=a.fC;a.xz;let c=a.h_,d=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,l.jsx)(a.aV,{className:(0,s.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...r,ref:t})});d.displayName=a.aV.displayName;let u=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,l.jsxs)(c,{children:[(0,l.jsx)(d,{}),(0,l.jsx)(a.VY,{ref:t,className:(0,s.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...r})]})});u.displayName=a.VY.displayName;let m=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,l.jsx)(a.Dx,{ref:t,className:(0,s.cn)("text-lg font-semibold",n),...r})});m.displayName=a.Dx.displayName;let p=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,l.jsx)(a.dk,{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",n),...r})});p.displayName=a.dk.displayName;let _=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,l.jsx)(a.aU,{ref:t,className:(0,s.cn)((0,o.d)(),n),...r})});_.displayName=a.aU.displayName;let f=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,l.jsx)(a.$j,{ref:t,className:(0,s.cn)((0,o.d)({variant:"outline"}),n),...r})});f.displayName=a.$j.displayName},8266:function(e,t,n){"use strict";n.d(t,{$:function(){return r}});var l=n(9219),a=n(1962);let r=e=>{let{className:t}=e;return(0,l.jsxs)("div",{role:"status",children:[(0,l.jsxs)("svg",{"aria-hidden":"true",className:(0,a.cn)("w-8 h-8 mr-2 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",t),viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),(0,l.jsx)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),(0,l.jsx)("span",{className:"sr-only",children:"Loading..."})]})}},6523:function(e,t,n){"use strict";n.d(t,{k:function(){return r}});var l=n(9219),a=n(1962);let r=e=>{let{children:t,className:n}=e;return(0,l.jsx)("h4",{className:(0,a.cn)("scroll-m-20 text-xl font-semibold tracking-tight",n),children:t})}},1382:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var l=n(9187),a=n(6833),r=n(2564);let o=()=>{let{code:e,setCode:t}=(0,r.useContext)(a.q);return(0,r.useEffect)(()=>{let e=localStorage.getItem(l._.localStorage.cyobot_local_storage_code);e&&t(e)},[t]),(0,r.useEffect)(()=>{localStorage.setItem(l._.localStorage.cyobot_local_storage_code,e)},[e]),{code:e,setCode:t}}},6190:function(e,t,n){"use strict";n.d(t,{d:function(){return d}});var l=n(9187),a=n(1382),r=n(1057),o=n(1310),s=n(5814),i=n(8553),c=n(3328);let d=()=>{let{code:e,setCode:t}=(0,a.h)(),{robotIPAddress:n}=(0,o.W)(),{toast:d}=(0,s.pm)(),[u,m]=(0,r._)(l._.localStorage.cyobot_local_storage_code_loading,!1),{data:p,refetch:_}=(0,c.useQuery)(["useLoad"],async()=>{try{let e=await i.Z.get("".concat(null===n?"":"http://".concat(n),"/api/load"));if(200!==e.status)throw e;return e.data}catch(e){return console.error(e),null}},{onSettled:()=>{m(!1)},onSuccess:e=>{p&&(t(e),d({title:"Success",description:"Loaded code from the SD card"}))},onError:e=>{console.error(e),d({title:"Error: Fail to load code from the SD card",description:"Please try again",variant:"destructive"})}});return{code:e,refetchLoad:async()=>{await _()}}}},7233:function(e,t,n){"use strict";n.d(t,{O:function(){return o}});var l=n(9187),a=n(6736),r=n(2564);let o=()=>{let{openedFiles:e,setOpenedFiles:t}=(0,r.useContext)(a.J),n=t=>e.some(e=>e.id===t);return(0,r.useEffect)(()=>{let e=localStorage.getItem(l._.localStorage.cyobot_local_storage_opened_files);e&&t(JSON.parse(e))},[t]),{openedFiles:e,addOpenedFile:e=>{n(e.id)||t(t=>{let n=[...t,e];return localStorage.setItem(l._.localStorage.cyobot_local_storage_opened_files,JSON.stringify(n)),n})},removeOpenedFile:e=>{n(e)&&t(t=>{let n=t.filter(t=>t.id!==e);return localStorage.setItem(l._.localStorage.cyobot_local_storage_opened_files,JSON.stringify(n)),n})},isFileExists:n}}},1927:function(e,t,n){"use strict";n.d(t,{v:function(){return r}});var l=n(1991),a=n(2564);let r=()=>{let{clientResponses:e,setClientResponses:t}=(0,a.useContext)(l.L);return{clientResponses:e,setClientResponses:t}}}},function(e){e.O(0,[917,847,587,556,129,253,151,744],function(){return e(e.s=6930)}),_N_E=e.O()}]);